(function(e,u){typeof exports=="object"&&typeof module!="undefined"?u(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],u):(e=typeof globalThis!="undefined"?globalThis:e||self,u(e["react-autosave"]={},e.React))})(this,function(e,u){"use strict";var d=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var p=(e,u)=>{var i={};for(var t in e)T.call(e,t)&&u.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&d)for(var t of d(e))u.indexOf(t)<0&&b.call(e,t)&&(i[t]=e[t]);return i};function i(n,s){const[o,f]=u.useState(n);return u.useEffect(()=>{if(typeof window!="undefined"){const c=setTimeout(()=>{f(n)},s);return()=>{clearTimeout(c)}}},[n,s]),o}function t({data:n,onSave:s,interval:o=2e3,saveOnUnmount:f=!0}){const c=u.useRef(n),r=u.useRef(!0),l=i(n,o);u.useEffect(()=>{r.current?r.current=!1:s(l)},[l,s]),u.useEffect(()=>{c.current=n},[n]),u.useEffect(()=>()=>{f&&s(c.current)},[s,f])}const v=o=>{var f=o,{element:n=null}=f,s=p(f,["element"]);return t(s),n};e.Autosave=v,e.useAutosave=t,e.useDebounce=i,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
